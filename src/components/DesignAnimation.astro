<div id="design-animation" class="fixed left-0 top-0 w-full"></div>

<script>
  // Import Lottie dynamically
  console.log('DesignAnimation script loaded');
  import('lottie-web').then((lottieModule) => {
    const lottie = lottieModule.default;
    
    function runLottie() {
      const container = document.getElementById('design-animation');
      console.log('DOMContentLoaded or immediate run');
      if (container) {
        console.log('Animation container found:', container);
        const animation = lottie.loadAnimation({
          container,
          renderer: 'svg',
          loop: true,
          autoplay: true,
          path: '/animations/design-tools.json'
        });

        animation.addEventListener('DOMLoaded', () => {
          console.log('Animation loaded successfully');
        });

        animation.addEventListener('error', (error) => {
          console.error('Animation error:', error);
        });
      } else {
        console.error('Animation container not found');
      }
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', runLottie);
    } else {
      runLottie();
    }
  }).catch(error => {
    console.error('Failed to load Lottie:', error);
  });
</script>

<style>
  #design-animation {
    opacity: 0.5;
    mix-blend-mode: multiply;
    z-index: 1000;
    width: 100vw;
    height: 220px !important;
    left: 0;
    top: 0;
    /* border: 2px solid red;  Remove debug if not needed */
    /* background: rgba(255,255,0,0.1);  Remove debug if not needed */
  }
  #design-animation svg {
    width: 100% !important;
    height: 100% !important;
    display: block;
  }
  :global(.dark) #design-animation {
    opacity: 0.3;
    mix-blend-mode: screen;
    background: rgba(0,255,255,0.1); /* DEBUG: Remove after testing */
  }
</style> 